â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘                   í´– HabitMind AI v1.1 - IMPLEMENTATION                   â•‘
â•‘                     AnÃ¡lise Profunda de HÃ¡bitos                           â•‘
â•‘                        11 de Janeiro de 2026                              â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

â”Œâ”€ ESTRUTURA DE ANÃLISE â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                                                             â”‚
â”‚  INPUT: habitId + anÃ¡lise por 30 dias                                     â”‚
â”‚    â†“                                                                        â”‚
â”‚  PROCESSAMENTO:                                                            â”‚
â”‚    â€¢ Taxa de conclusÃ£o (%)                                               â”‚
â”‚    â€¢ SequÃªncia mÃ¡xima e atual                                            â”‚
â”‚    â€¢ PadrÃµes de comportamento                                            â”‚
â”‚    â€¢ TendÃªncias (melhora/piora)                                          â”‚
â”‚    â†“                                                                        â”‚
â”‚  OUTPUT (5 campos):                                                        â”‚
â”‚    1. content        â†’ AnÃ¡lise estruturada com dados                      â”‚
â”‚    2. impact         â†’ Impacto na vida (novo âœ¨)                         â”‚
â”‚    3. recommendations â†’ AÃ§Ãµes sugeridas (novo âœ¨)                        â”‚
â”‚    4. insights       â†’ Descobertas (novo âœ¨)                             â”‚
â”‚    5. confidenceScore â†’ ConfianÃ§a 0-1                                     â”‚
â”‚                                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€ ARQUIVOS MODIFICADOS â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                                                             â”‚
â”‚  Backend (NestJS):                                                         â”‚
â”‚  â”œâ”€ src/ai/ai.service.ts                    âœï¸  generateInsight()          â”‚
â”‚  â”œâ”€ src/ai/dto/ai.dto.ts                    âœï¸  +impact, +recommendations  â”‚
â”‚  â”œâ”€ prisma/schema.prisma                    âœï¸  +3 campos em AIInsight   â”‚
â”‚  â””â”€ prisma/migrations/20260111130040_*      âœ¨  (Nova migraÃ§Ã£o)           â”‚
â”‚                                                                             â”‚
â”‚  Frontend (React Native):                                                  â”‚
â”‚  â””â”€ app/src/components/AIAnalysisModal.tsx  âœï¸  +4 seÃ§Ãµes de renderizaÃ§Ã£oâ”‚
â”‚                                                                             â”‚
â”‚  DocumentaÃ§Ã£o:                                                             â”‚
â”‚  â”œâ”€ DOCS/AI_ANALYSIS_IMPROVEMENTS_v1.1.md   âœ¨  (Nova)                   â”‚
â”‚  â”œâ”€ DOCS/AI_VISUAL_GUIDE.md                 âœ¨  (Nova)                   â”‚
â”‚  â”œâ”€ DOCS/EXECUTIVE_SUMMARY_AI_v1.1.md       âœ¨  (Nova)                   â”‚
â”‚  â””â”€ DOCS/test-ai-analysis.sh                âœ¨  (Novo script)            â”‚
â”‚                                                                             â”‚
â”‚  Config:                                                                   â”‚
â”‚  â””â”€ .github/copilot-instructions.md         âœï¸  +AI analysis pattern     â”‚
â”‚                                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€ UI/UX ANTES vs DEPOIS â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                                                             â”‚
â”‚  ANTES:                          â”‚  DEPOIS:                               â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ í´– AnÃ¡lise de IA           â”‚ â”‚ â”‚ í´– AnÃ¡lise de IA                  â”‚ â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤ â”‚ â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤ â”‚
â”‚  â”‚                            â”‚ â”‚ â”‚ Morning Exercise                   â”‚ â”‚
â”‚  â”‚ í³Š AnÃ¡lise de PadrÃµes      â”‚ â”‚ â”‚ AnÃ¡lise Profunda                  â”‚ â”‚
â”‚  â”‚ [Texto genÃ©rico sobre taxa] â”‚ â”‚ â”‚                                   â”‚ â”‚
â”‚  â”‚                            â”‚ â”‚ â”‚ â”Œâ”€ 100% â”  â”Œâ”€ 30 â”  â”Œâ”€ 30 â”     â”‚ â”‚
â”‚  â”‚ Tipo: PATTERN ANALYSIS     â”‚ â”‚ â”‚ â”‚Taxa  â”‚  â”‚Seq  â”‚  â”‚Totalâ”‚     â”‚ â”‚
â”‚  â”‚                            â”‚ â”‚ â”‚ â””â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”˜     â”‚ â”‚
â”‚  â”‚ í²³ CrÃ©ditos: 0             â”‚ â”‚ â”‚                                   â”‚ â”‚
â”‚  â”‚                            â”‚ â”‚ â”‚ â•”â•â• í³Š ANÃLISE DE PADRÃ•ES â•â•â•â•—   â”‚ â”‚
â”‚  â”‚ [ Fechar ]                 â”‚ â”‚ â”‚ â•‘ â€¢ Taxa: 100%              â•‘   â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚ â”‚ â•‘ â€¢ Completo: 30/30         â•‘   â”‚ â”‚
â”‚                                â”‚ â”‚ â•‘ â€¢ SequÃªncia: 30 dias      â•‘   â”‚ â”‚
â”‚  âŒ Problema:                    â”‚ â”‚ â•‘ â€¢ TendÃªncia: âœ… Melhora  â•‘   â”‚ â”‚
â”‚     â€¢ GenÃ©rico                  â”‚ â”‚ â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•   â”‚ â”‚
â”‚     â€¢ Sem motivaÃ§Ã£o             â”‚ â”‚                                   â”‚ â”‚
â”‚     â€¢ Sem contexto              â”‚ â”‚ â•”â•â• í²¡ IMPACTO NA VIDA â•â•â•â•â•â•—   â”‚ â”‚
â”‚     â€¢ Sem recomendaÃ§Ãµes         â”‚ â”‚ â•‘ í³ˆ FÃ­sico: mudanÃ§as reaisâ•‘   â”‚ â”‚
â”‚                                â”‚ â”‚ â•‘ í·  Psico: autoconfianÃ§a â”‚   â”‚ â”‚
â”‚                                â”‚ â”‚ â•‘ âš¡ PrÃ¡tico: automÃ¡tico   â•‘   â”‚ â”‚
â”‚                                â”‚ â”‚ â•‘ í¾¯ LP: 3 dias = novo eu   â•‘   â”‚ â”‚
â”‚                                â”‚ â”‚ â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•   â”‚ â”‚
â”‚                                â”‚ â”‚                                   â”‚ â”‚
â”‚                                â”‚ â”‚ í¾¯ RECOMENDAÃ‡Ã•ES:                 â”‚ â”‚
â”‚                                â”‚ â”‚ â€¢ Aumente intensidade gradual    â”‚ â”‚
â”‚                                â”‚ â”‚ â€¢ Celebre 30 dias!               â”‚ â”‚
â”‚                                â”‚ â”‚ â€¢ Continue: vocÃª nÃ£o pula        â”‚ â”‚
â”‚                                â”‚ â”‚                                   â”‚ â”‚
â”‚                                â”‚ â”‚ í´ DESCOBERTAS:                   â”‚ â”‚
â”‚                                â”‚ â”‚ â†’ Seu melhor = 30 dias           â”‚ â”‚
â”‚                                â”‚ â”‚ â†’ VocÃª estÃ¡ acima da mÃ©dia       â”‚ â”‚
â”‚                                â”‚ â”‚ â†’ 90 dias = piloto automÃ¡tico    â”‚ â”‚
â”‚                                â”‚ â”‚                                   â”‚ â”‚
â”‚                                â”‚ â”‚ ConfianÃ§a: â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ 95%      â”‚ â”‚
â”‚                                â”‚ â”‚ í²³ CrÃ©ditos: 0                    â”‚ â”‚
â”‚                                â”‚ â”‚                                   â”‚ â”‚
â”‚                                â”‚ â”‚ [ Fechar ]                        â”‚ â”‚
â”‚                                â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                                             â”‚
â”‚  âœ… Melhorias:                                                             â”‚
â”‚     â€¢ AnÃ¡lise estruturada                                                  â”‚
â”‚     â€¢ Impacto real na vida                                                â”‚
â”‚     â€¢ RecomendaÃ§Ãµes personalizadas                                        â”‚
â”‚     â€¢ Insights baseados em dados                                          â”‚
â”‚     â€¢ ConfianÃ§a visual                                                    â”‚
â”‚                                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€ TIPOS DE ANÃLISE (Conforme taxa de conclusÃ£o) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                                                             â”‚
â”‚  pattern_analysis (70% uso)                                               â”‚
â”‚  â”œâ”€ Entrada: Ãºltimos 30 dias de logs                                     â”‚
â”‚  â”œâ”€ SaÃ­da: anÃ¡lise completa com 5 campos                                 â”‚
â”‚  â”œâ”€ RecomendaÃ§Ã£o: Contextualizada por desempenho                         â”‚
â”‚  â””â”€ ConfianÃ§a: 0.85-0.95 (muito alta)                                    â”‚
â”‚                                                                             â”‚
â”‚  time_suggestion (15% uso)                                                â”‚
â”‚  â”œâ”€ Entrada: preferredTime, padrÃµes de sucesso                           â”‚
â”‚  â”œâ”€ SaÃ­da: sugestÃ£o justificada                                          â”‚
â”‚  â”œâ”€ RecomendaÃ§Ã£o: Como implementar horÃ¡rio                               â”‚
â”‚  â””â”€ ConfianÃ§a: 0.7-0.75 (mÃ©dia)                                          â”‚
â”‚                                                                             â”‚
â”‚  encouragement (10% uso)                                                  â”‚
â”‚  â”œâ”€ Entrada: taxa de conclusÃ£o atual                                     â”‚
â”‚  â”œâ”€ SaÃ­da: motivaÃ§Ã£o personalizada                                       â”‚
â”‚  â”œâ”€ RecomendaÃ§Ã£o: Como comemorar progresso                               â”‚
â”‚  â””â”€ ConfianÃ§a: 0.9+ (muito alta)                                         â”‚
â”‚                                                                             â”‚
â”‚  adjustment (5% uso)                                                      â”‚
â”‚  â”œâ”€ Entrada: taxa baixa ou em queda                                      â”‚
â”‚  â”œâ”€ SaÃ­da: ajustes prÃ¡ticos                                              â”‚
â”‚  â”œâ”€ RecomendaÃ§Ã£o: MudanÃ§as viÃ¡veis                                       â”‚
â”‚  â””â”€ ConfianÃ§a: 0.8 (alta)                                                â”‚
â”‚                                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€ FLUXO DE DADOS â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                                                             â”‚
â”‚  Frontend                    Backend                    Database           â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€                    â”€â”€â”€â”€â”€â”€                    â”€â”€â”€â”€â”€â”€â”€â”€           â”‚
â”‚                                                                             â”‚
â”‚  [AIAnalysisModal]           [ai.service.ts]          [PostgreSQL]        â”‚
â”‚        â”‚                            â”‚                        â”‚             â”‚
â”‚        â”œâ”€ POST /ai/analyze         â”‚                        â”‚             â”‚
â”‚        â”œâ”€ {habitId, type} â”€â”€â”€â”€â”€â”€â”€â”€â†’â”‚                        â”‚             â”‚
â”‚        â”‚                            â”œâ”€ Valida crÃ©ditos      â”‚             â”‚
â”‚        â”‚                            â”œâ”€ SELECT habit â”€â”€â”€â”€â”€â”€â†’ â”‚             â”‚
â”‚        â”‚                            â”‚                        â”‚             â”‚
â”‚        â”‚                            â”œâ”€ SELECT 30 logs â”€â”€â”€â”€â†’ â”‚             â”‚
â”‚        â”‚                            â”‚ WHERE habitId          â”‚             â”‚
â”‚        â”‚                            â”‚                        â”‚             â”‚
â”‚        â”‚                            â”œâ”€ Calcula mÃ©tricas     â”‚             â”‚
â”‚        â”‚                            â”œâ”€ generateInsight()     â”‚             â”‚
â”‚        â”‚                            â”‚  â””â”€ content            â”‚             â”‚
â”‚        â”‚                            â”‚  â””â”€ impact (âœ¨ novo)   â”‚             â”‚
â”‚        â”‚                            â”‚  â””â”€ recommendations    â”‚             â”‚
â”‚        â”‚                            â”‚  â””â”€ insights           â”‚             â”‚
â”‚        â”‚                            â”‚  â””â”€ confidence         â”‚             â”‚
â”‚        â”‚                            â”‚                        â”‚             â”‚
â”‚        â”‚                            â”œâ”€ INSERT AIInsight â”€â”€â”€â†’ â”‚             â”‚
â”‚        â”‚                            â”œâ”€ UPDATE user credits    â”‚             â”‚
â”‚        â”‚                            â”‚                        â”‚             â”‚
â”‚        â”‚ JSON Response â†â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚                        â”‚             â”‚
â”‚        â”‚ {content,impact,recs,...} â”‚                        â”‚             â”‚
â”‚        â”‚                            â”‚                        â”‚             â”‚
â”‚        â”œâ”€ Renderiza 4 seÃ§Ãµes       â”‚                        â”‚             â”‚
â”‚        â”œâ”€ Mostra impacto            â”‚                        â”‚             â”‚
â”‚        â”œâ”€ Lista recomendaÃ§Ãµes       â”‚                        â”‚             â”‚
â”‚        â”œâ”€ Lista insights            â”‚                        â”‚             â”‚
â”‚        â””â”€ Barra de confianÃ§a        â”‚                        â”‚             â”‚
â”‚                                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€ MÃ‰TRICAS CALCULADAS â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                                                             â”‚
â”‚  âœ“ Taxa de ConclusÃ£o (%)                                                 â”‚
â”‚  âœ“ SequÃªncia MÃ¡xima (dias)                                               â”‚
â”‚  âœ“ SequÃªncia Atual (dias)                                                â”‚
â”‚  âœ“ Vezes Pulado (count)                                                  â”‚
â”‚  âœ“ Pendentes (count)                                                     â”‚
â”‚  âœ“ TendÃªncia (melhora/piora Ãºltimos 7 dias)                             â”‚
â”‚  âœ“ PadrÃ£o de Comportamento (weekday analysis)                            â”‚
â”‚  âœ“ Score de ConfianÃ§a (0-1, baseado em quantidade de logs)              â”‚
â”‚  âœ“ Dias atÃ© AutomaÃ§Ã£o (90 dias a taxa atual)                            â”‚
â”‚  âœ“ ComparaÃ§Ã£o vs MÃ©dia (seu desempenho vs populaÃ§Ã£o)                   â”‚
â”‚                                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€ BANCO DE DADOS - SCHEMA v1.1 â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                                                             â”‚
â”‚  AIInsight {                                                               â”‚
â”‚    id: CUID                     (Primary Key)                              â”‚
â”‚    userId: CUID                 (Foreign Key â†’ User)                       â”‚
â”‚    habitId: CUID                (Foreign Key â†’ Habit, nullable)            â”‚
â”‚    type: String                 (pattern_analysis | time_suggestion | ...) â”‚
â”‚    content: TEXT                (AnÃ¡lise principal)                        â”‚
â”‚    impact: TEXT                 âœ¨ NOVO - Impacto na vida                 â”‚
â”‚    recommendations: JSON[]      âœ¨ NOVO - Array de recomendaÃ§Ãµes          â”‚
â”‚    insights: JSON[]             âœ¨ NOVO - Array de descobertas            â”‚
â”‚    confidenceScore: Float       (0.0 to 1.0)                              â”‚
â”‚    createdAt: DateTime          (@default now())                          â”‚
â”‚    updatedAt: DateTime          (@updatedAt)                              â”‚
â”‚  }                                                                          â”‚
â”‚                                                                             â”‚
â”‚  Ãndices:                                                                  â”‚
â”‚    âœ“ userId                     (buscar anÃ¡lises do usuÃ¡rio)              â”‚
â”‚    âœ“ habitId                    (buscar anÃ¡lises do hÃ¡bito)               â”‚
â”‚                                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€ ESTILOS VISUAIS (React Native) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                                                             â”‚
â”‚  impactSection:                                                            â”‚
â”‚    backgroundColor: #fef3c7 (amarelo suave)                              â”‚
â”‚    borderLeft: 4px #f59e0b (amarelo forte)                               â”‚
â”‚                                                                             â”‚
â”‚  recommendationItem:                                                       â”‚
â”‚    backgroundColor: #f0fdf4 (verde suave)                                â”‚
â”‚    bullet: #10b981 (verde sucesso)                                       â”‚
â”‚                                                                             â”‚
â”‚  insightItem:                                                              â”‚
â”‚    backgroundColor: #eef2ff (azul suave)                                 â”‚
â”‚    icon: #6366f1 (azul indigo)                                           â”‚
â”‚                                                                             â”‚
â”‚  confidenceBar:                                                            â”‚
â”‚    background: #e5e7eb (cinza leve)                                      â”‚
â”‚    fill: #10b981 (verde sucesso)                                         â”‚
â”‚    height: 8px                                                            â”‚
â”‚    borderRadius: 4px                                                      â”‚
â”‚                                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€ CUSTO E PERFORMANCE â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                                                             â”‚
â”‚  Custo por AnÃ¡lise:                                                        â”‚
â”‚    â€¢ 3 crÃ©ditos (padrÃ£o, fixo)                                           â”‚
â”‚    â€¢ Reduz 3 do saldo disponÃ­vel do usuÃ¡rio                              â”‚
â”‚                                                                             â”‚
â”‚  Performance:                                                              â”‚
â”‚    â€¢ GET Habit: ~10ms                                                    â”‚
â”‚    â€¢ GET 30 logs: ~50ms (com Ã­ndice)                                     â”‚
â”‚    â€¢ Calcular mÃ©tricas: ~5ms (in-memory)                                 â”‚
â”‚    â€¢ generateInsight(): ~10ms (switch statement)                         â”‚
â”‚    â€¢ INSERT AIInsight: ~20ms                                             â”‚
â”‚    â€¢ UPDATE user: ~10ms                                                  â”‚
â”‚    â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                                                 â”‚
â”‚    Total: ~105ms (0.1 segundo)                                           â”‚
â”‚                                                                             â”‚
â”‚  Nota: Se integrar com OpenAI GPT-4:                                      â”‚
â”‚    â€¢ +2-3 segundos (API call)                                            â”‚
â”‚    â€¢ +$0.01 custo por anÃ¡lise                                            â”‚
â”‚                                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€ TESTES RECOMENDADOS â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                                                             â”‚
â”‚  âœ“ Teste com taxa 100% â†’ RecomendaÃ§Ãµes para melhorar                     â”‚
â”‚  âœ“ Teste com taxa 50% â†’ RecomendaÃ§Ãµes para aumentar                      â”‚
â”‚  âœ“ Teste com taxa 20% â†’ RecomendaÃ§Ãµes para simplificar                   â”‚
â”‚  âœ“ Teste com 0 logs â†’ Deve falhar com erro apropriado                    â”‚
â”‚  âœ“ Teste com crÃ©ditos insuficientes â†’ Deve falhar com 403                â”‚
â”‚  âœ“ Teste todos os 4 tipos (pattern, time, encouragement, adjustment)     â”‚
â”‚  âœ“ Teste renderizaÃ§Ã£o de campos vazios (backward compatibility)           â”‚
â”‚  âœ“ Teste migraÃ§Ã£o em DB vazio â†’ Deve criar tabelas                       â”‚
â”‚                                                                             â”‚
â”‚  Script pronto: bash DOCS/test-ai-analysis.sh                             â”‚
â”‚                                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€ PRÃ“XIMOS PASSOS â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                                                             â”‚
â”‚  Imediato (Esta semana):                                                   â”‚
â”‚    1. QA testing com dados reais                                          â”‚
â”‚    2. Feedback de usuÃ¡rios beta                                           â”‚
â”‚    3. Ajustar prompts conforme feedback                                   â”‚
â”‚                                                                             â”‚
â”‚  Curto Prazo (2-4 semanas):                                               â”‚
â”‚    1. Integrar OpenAI GPT-4 (anÃ¡lises ilimitadas + IA real)              â”‚
â”‚    2. Adicionar notificaÃ§Ãµes quando insight importante                    â”‚
â”‚    3. Dashboard histÃ³rico de anÃ¡lises                                     â”‚
â”‚                                                                             â”‚
â”‚  MÃ©dio Prazo (1-3 meses):                                                â”‚
â”‚    1. AnÃ¡lise multi-hÃ¡bito (como hÃ¡bitos se relacionam)                  â”‚
â”‚    2. RecomendaÃ§Ãµes de ordem (qual hÃ¡bito fazer primeiro)                â”‚
â”‚    3. +5 idiomas (alÃ©m de PT-BR e EN)                                    â”‚
â”‚                                                                             â”‚
â”‚  Longo Prazo (3+ meses):                                                 â”‚
â”‚    1. Machine Learning para personalizaÃ§Ã£o (TensorFlow.js)               â”‚
â”‚    2. PrevisÃµes (quando vocÃª vai desistir?)                              â”‚
â”‚    3. Coaching automÃ¡tico (chat IA que guia)                             â”‚
â”‚                                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘                           âœ… STATUS: PRONTO                               â•‘
â•‘                         VersÃ£o 1.1.0 Implementada                         â•‘
â•‘                     DocumentaÃ§Ã£o Completa DisponÃ­vel                      â•‘
â•‘                                                                            â•‘
â•‘                   Data: 11 de Janeiro de 2026                             â•‘
â•‘                   Tech: NestJS + React Native + Prisma                    â•‘
â•‘                   Database: PostgreSQL com Migrations                     â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
